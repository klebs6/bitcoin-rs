# bitcoin-sync

`bitcoin-sync` is a robust Rust library designed for efficient synchronization and concurrency management in Bitcoin applications. By leveraging advanced synchronization primitives inspired by Bitcoin Core, it enables safe and efficient concurrent programming in the Rust ecosystem.

## Features
- **Mutex Implementations**: Provides recursive and non-recursive mutex types using `parking_lot`. It offers a wrapper for recursive locks and a default `RawMutex` wrapper for non-recursive scenarios.
- **RAII Guards**: Implements `UniqueLock` and `ReverseLock` for managing lock lifetimes using RAII, ensuring that locks are automatically released at the appropriate time.
- **Macros for Critical Sections**: Macros like `lock`, `try_lock`, `enter_critical_section`, and `leave_critical_section` facilitate the management of critical sections.
- **Synchronization Primitives**: Includes a `Semaphore` class for managing permits with blocking and non-blocking acquisition and a `SemaphoreGrant` for RAII-style permit management.
- **Interrupt Handling**: `ThreadInterrupt` allows threads to behave interruptibly, akin to handling of thread interruptions in Bitcoin Core.
- **Deadlock Detection**: Contains early deadlock detection mechanisms mimicking Bitcoin Core's lock order enforcement and detection.

## Usage
To use `bitcoin-sync`, ensure that you have added the crate to your `Cargo.toml` dependencies:

```toml
[dependencies]
bitcoin-sync = "0.1.19"
```

Then, import the desired synchronization primitives and macros into your project:

```rust
use bitcoin_sync::{lock, enter_critical_section, Semaphore};

fn main() {
    let mutex = parking_lot::RawMutex::INIT;
    lock!(mutex);
    // critical section code
    // automatically unlocks at the end of scope
}
```

## Note
This README.md was generated by an AI model and may not be 100% accurate, however it should be pretty good.