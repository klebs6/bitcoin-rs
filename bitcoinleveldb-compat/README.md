# BitcoinLevelDB-Compat  

BitcoinLevelDB-Compat is a Rust crate aimed at providing compatibility utilities for using a LevelDB inspired storage system with the Bitcoin implementation. This crate principally focuses on interfacing delicate low-level Rust system features with high-efficiency performance extensions like Snappy compression and decompression.

## Overview

The crate contains functions to compress, uncompress, and manage buffer sizes using Snappy compression algorithm, coupled with high-performance CRC calculations and system memory profiling tools. Mutex and Condition Variable abstractions are provided to facilitate thread-safe operations and synchronization within concurrent environments.

### Key Components

- **Snappy Compression & Decompression Functions**: 
  - `snappy_compress`: Compresses input data using Snappy, returning false if Snappy support is unavailable.
  - `snappy_uncompress`: Decompresses previously Snappy-compressed data.
  - `snappy_get_uncompressed_length`: Infers the uncompressed size of Snappy data buffers.

- **CRC Calculation**: 
  - `acceleratedcrc32c`: Computes the CRC32C checksum for data, leveraging acceleration if available.

- **Heap Profiling**: 
  - `get_heap_profile`: Gathers heap profiles by aggregating information through specified callbacks.

- **Concurrency Primitives**:
  - **Mutex**: Locks and synchronization tools that mirror LevelDB's `port::Mutex`.
  - **CondVar**: Condition variables tied to Mutexes for complex thread signaling.

## Getting Started

To include this crate in your project, ensure you have the `leveldb_snappy` feature enabled within your Cargo file if Snappy support is needed.

```toml
[dependencies]
bitcoinleveldb-compat = { version = "0.1.19", features = ["leveldb_snappy"] }
```

### Usage Example

```rust
use bitcoinleveldb-compat::{snappy_compress, snappy_uncompress};

fn main() {
   let data = b"some data to compress";
   let mut compressed = String::new();

   if snappy_compress(data.as_ptr(), data.len(), &mut compressed) {
       println!("Data compressed successfully!");
   } else {
       eprintln!("Compression failed!");
   }
}
```

## License

This package is licensed under the MIT License.

This README.md file was generated by an AI model and may not be 100% accurate, however, it should be pretty good.