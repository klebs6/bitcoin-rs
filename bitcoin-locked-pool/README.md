# bitcoin-locked-pool

The `bitcoin-locked-pool` Rust crate provides a robust memory management solution for handling sensitive data, particularly Bitcoin security keys. It prevents these keys from being swapped to disk by using locked memory, ensuring they remain in RAM and are inaccessible to potential security threats.

## Features

- **Locked Memory Management**: Utilizes pools of locked memory chunks to securely manage sensitive data without risking exposure through disk swapping.
- **Flexible Allocation**: Allocates memory in arenas that can grow if necessary. The administrative structures are separated from the managed memory to conserve locked memory, given certain OS constraints.
- **Concurrency Support**: Implements thread-safe operations via mutexes and allows callback mechanisms to handle failed memory locking events.
- **Statistics Collection**: Offers detailed pool-wide memory statistics including total, used, and free memory, as well as the number of chunks used and free.

## Technical Insights

- **LockedPool Structure**: Manages memory allocation using arenasâ€”chunks of memory that are securely locked, with destructor guarantees to avoid misuse of invalid pointers.
- **LockedPoolManager**: Singleton management class that ensures proper initialization and accessibility of the locked pool memory before any secure allocators are used.
- **Memory Safety**: Ensures that memory is allocated and freed correctly, avoiding common pitfalls like dangling pointers through careful management of allocator and arena lifetimes.

## Usage

Create instances of `LockedPool` and use the `alloc` and `free` methods to manage memory chunks. The `LockedPoolManager` handles global state, making it easy to integrate secure allocations into existing Rust projects involving sensitive data.

## License

Licensed under the MIT License. See LICENSE file for details.

---
*File generated by an AI model and may not be 100% accurate. Use at your discretion.*