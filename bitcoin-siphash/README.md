# bitcoin-siphash

`bitcoin-siphash` is a Rust crate that provides a Bitcoin Core-compatible implementation of the SipHash-2-4 algorithm, optimized for cryptographic operations on 256-bit data and an additional 32-bit tag. This crate includes both the low-level macro and high-level API for hashing with SipHash, ensuring compatibility with the original C++ reference implementation used in Bitcoin Core.

## Features

- **Macros:** `rotl` for rotate-left operations and `sipround` for SipHash compression rounds, maintaining strict fidelity to the original Bitcoin Core logic.
- **Core Structure:** The `BitcoinSipHasher` struct offers a robust hash function implementation that supports operations on 64-bit values, as well as arbitrary-length byte arrays.
- **Compatibility:** The API replicates Bitcoin Core's `SipHashUint256Extra` and `SipHashUint256` functions, maintaining constant-time and branch-free execution.
- **Trace Logging:** Integration with the `tracing` crate enables detailed introspection into the SipHash calculation process.

## Example Usage

```rust
use bitcoin_siphash::{BitcoinSipHasher, sip_hash_uint256};

let k0 = 0x0706050403020100;
let k1 = 0x0f0e0d0c0b0a0908;
let value = // some u256 value;
let hasher = BitcoinSipHasher::new(k0, k1);
let hash_result = sip_hash_uint256(k0, k1, &value);
println!("Hash: {:016x}", hash_result);
```

## Additional Notes

The implementation leverages constant-time operations and macro-based transformations to enable safe cryptographic computations. Utilizing this crate requires understanding the lower-level operations of hashing and its application in cryptocurrencies such as Bitcoin.

## License

Licensed under the MIT License.

*Note: This README.md file was generated by an AI model and may not be 100% accurate, however, it should be pretty good.*