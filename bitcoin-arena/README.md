# bitcoin-arena

`bitcoin-arena` is a custom memory allocation crate in Rust mimicking manual memory management with arena-based allocations. The primary goal of this crate is to enhance high-performance applications where control over memory layout is crucial. It provides a mechanism to efficiently allocate and deallocate memory chunks.

## Features

- **Arena Allocation**: Allocate and free memory blocks with minimal overhead.
- **Efficient Memory Management**: Uses `BTreeMap` and `HashMap` to keep track of free and used memory blocks.
- **Safety**: Ensures allocated pointers remain within the bounds of the arena.
- **Statistics**: Offers statistics on memory usage via the ` ArenaStats` struct.

## Overview

An `Arena` is initialized with a base pointer, size, and alignment requirement. It supports:

- **Allocation**: Best-fit strategy to find available memory blocks while respecting alignment constraints.
- **Deallocation**: Prevents double-free errors and coalesces adjacent free blocks. 
- **Statistics Reporting**: Provides memory usage statistics (`used`, `free`, `total`, etc.).

### Example Usage
```rust
let mut arena = Arena::new(base_ptr, arena_size, alignment);
let ptr = arena.alloc(256);
arena.free(ptr);
let stats = arena.stats();
```

## Safety Considerations

The crate uses raw pointers, necessitating caution to ensure memory safety. Proper handling of the lifetime of the memory arena is necessary.

## License

`bitcoin-arena` is licensed under the MIT License. Contributions are welcome.

---

*This README.md file was generated by an AI model and may not be 100% accurate, although it should be pretty good.*