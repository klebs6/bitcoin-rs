# bitcoin-poly1305

The `bitcoin-poly1305` crate implements the Poly1305 one-time message authentication code (MAC), as used in various cryptographic systems, including Bitcoin Core. The primary goal is to provide a constant-time, reliable, and efficient checksum function that prevents tampering with messages by authenticating their integrity and authenticity.

## Features

- **Constant-Time Operations**: Ensures that execution time is independent of secret data, preventing timing side-channel attacks.
- **Compatibility**: Direct translation of the original Bitcoin Core `poly1305-donna-unrolled.c` routine, retaining the same logic and flow for carries, clamps, and reductions.
- **Instrumented Implementation**: Extensive tracing logs (using the `tracing` crate) to track internal operations, providing transparency for debugging and verification.

## Usage

To include `bitcoin-poly1305` in your project, add the following to your `Cargo.toml`:

```toml
[dependencies]
bitcoin-poly1305 = "0.1.19"
```

Here's a brief usage example:

```rust
use bitcoin_poly1305::poly1305_auth;

const KEY: [u8; 32] = [0u8; 32];
let msg: &[u8] = b"Hello, Poly1305!";
let mut tag = [0u8; 16];

poly1305_auth(&mut tag, msg, &KEY);
println!("MAC: {:?}", tag);
```

## Concepts & Mathematics

Poly1305 works as a MAC using universal hashing over a prime finite field, projecting a message into a randomly chosen line by using a secret key, and transforming it through addition and reduction within the field. Given its composure of limb-based operations, each limb being 26-bit, the algorithm facilitates efficient carry handling while preserving secure clamping and selective masking of results.

### Functionality

- **Key Expansion**: Transforms the key into five 26-bit limbs and their respective products.
- **Processing Blocks**: Accumulates and reduces message blocks, incorporating trace-level instrumentation for process verification.
- **Security Guarantees**: Assumes the uniqueness and unpredictability of each key per message, ensuring authentication security.

Note: This README.md was generated by an AI model and may not be 100% accurate; however, it should be pretty good.
