# bitcoin-compat

**Compatibility Enhancements for Bitcoin-related Functionality**

This Rust crate provides cross-platform compatibility utilities for bitcoin-related projects, abstracting platform-specific behavior into streamlined and consistent implementations across Windows and Unix-like systems.

## Features

- **Platform Abstraction**: Handle platform-specific behaviors, including differences in terminal handling, system calls, and integer type assumptions.
- **Endian Conversion**: Efficient utility functions for converting between host order and big/little-endian numbers.
- **Byte Swapping**: Convenient functions for swapping bytes in 16, 32, and 64-bit integers.
- **Terminal Echo Control**: RAII guard to manage terminal echo state securely for password entry and secure input handling.
- **Thread-Local Error Handling**: Retrieve the thread-local `errno` across different platforms, Windows and Unix.
- **Comprehensive Sanity Tests**: Rigorous set of checks to validate assumptions about the system's architecture and ensure consistency.

## Usage

```rust
use bitcoin_compat::*;

// Use endian conversion
let num: u32 = 0x12345678;
let big_endian = htobe32(num);
let little_endian = htole32(num);

// Use byte swamp
let swapped = bswap_32(big_endian);

// Terminal control
{
    no_stdin_echo!(); // echo disabled for secure input
    // ... handle secure operations
} // echo re-enabled automatically

// Get CPU info
let mut a = 0;
let mut b = 0;
let mut c = 0;
let mut d = 0;
getcpuid(0, 0, &mut a, &mut b, &mut c, &mut d);

```

## Installation

Add this to your `Cargo.toml`:

```toml
[dependencies]
bitcoin-compat = "0.1.19"
```

## License

This project is licensed under the MIT License.

---

*Note: This README.md file was generated by an AI model and may not be 100% accurate; however, it should be a close approximation.*