# bitcoinleveldb-lru

The `bitcoinleveldb-lru` crate provides an implementation of an LRU (Least Recently Used) caching system specifically designed for integration with LevelDB, facilitating cached storage of variable-length data entries.

## Features

- **Sharded Caching**: Utilizes sharded caches for enhanced concurrent access and lock distribution across shards.
- **Custom Hash Table**: Implements a custom hash table delivering performance improvements of up to 5% over common compilers' built-in solutions.
- **Sentinel Nodes**: Utilizes sentinel nodes for managing entry lists, ordered by recency of access.
- **Flexible Memory Management**: Provides intrinsic memory management functions for handling heap-allocated list entries, maintaining the integrity of data structures.

## Technical Details

The `LRUCache` holds cache entries in a circular, doubly linked list to dynamically accommodate varying entry sizes. Entries are implemented using `LRUHandle` structures, characterized by their heap-allocated nature and variable-length keys. The core mechanism is implemented using Rust's `RefCell` and `Mutex`, orchestrating thread-safe access and state transitions with fine-grained control.

## Integration

This crate can be seamlessly integrated into Rust applications that require efficient caching mechanisms, leveraging its design optimized for high-performance data retrieval typical in blockchain applications like Bitcoin. 

## Usage Example

To utilize `LRUCache`, create a new cache with specified capacity and use the provided methods for cache manipulation:

```rust
use bitcoinleveldb_lru::{new_lru_cache, LRUCache};

let cache_capacity = 1024;
let lru_cache = unsafe { new_lru_cache(cache_capacity) };
// Perform insertions, lookups, etc.
```

## License

Licensed under the MIT License. See [LICENSE](https://github.com/klebs6/bitcoin-rs/blob/main/LICENSE) file for details.

## Repository

The repository for the crate is hosted at: [github.com/klebs6/bitcoin-rs](https://github.com/klebs6/bitcoin-rs)

---

*This README.md was generated by an AI model and may not be 100% accurate; however, it should be quite comprehensive.*