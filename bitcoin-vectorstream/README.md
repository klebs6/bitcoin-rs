# Bitcoin Vectorstream

`bitcoin-vectorstream` is a Rust crate offering minimal `VectorReader` and `VectorWriter` functionalities, enabling seamless reading from and writing to byte vectors through serializable streams. Utilizing high-performance Rust features such as `Arc` and `Rc<RefCell<Vec<u8>>>`, this crate provides efficient data handling necessary for bitcoin serialization and deserialization processes.

## Features

- **VectorReader**: Allows safe reading from a vector by reference, keeps track of current position, and ensures bounds safety for byte streams.
- **VectorWriter**: Facilitates writing to and appending data within an existing vector, auto-resizes as needed to accommodate growing data streams.
- **Integration with `bitcoin_serialize`**: Directly leverages traits from the `bitcoin_serialize` library for efficient serialization and deserialization of types compliant with the Bitcoin protocol.
- **Auto-Resizing**: Vectors will grow as necessary, offering a seamless experience when appending new data.
- **Sync and Async Compatibility**: Designed with thread safety in focus (via `Arc`), making it suitable for concurrent environments.

## Usage

### VectorReader
```rust
use std::sync::Arc;
use bitcoin_vectorstream::VectorReader;

let data = Arc::new(vec![1, 2, 3, 4]);
let reader = VectorReader::new(0, 1, data, 0);
```

### VectorWriter
```rust
use std::rc::Rc;
use std::cell::RefCell;
use bitcoin_vectorstream::VectorWriter;

let data = Rc::new(RefCell::new(vec![]));
let mut writer = VectorWriter::new(0, 1, data.clone(), 0);
```

### Panicking Conditions
- In `VectorReader`, attempting to create an instance where `pos` exceeds `data.len()` will result in a panic.
- In `VectorWriter`, writing beyond the current size triggers deferred vector resizing.

## Contributing
Contributions are welcome! This crate is available under the MIT license, and development happens openly on [GitHub](https://github.com/klebs6/bitcoin-rs).

---

*Disclaimer: This README.md file has been generated by an AI model and may not be 100% accurate. However, it has been created to provide a comprehensive understanding of the `bitcoin-vectorstream` crate.*