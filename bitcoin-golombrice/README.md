# bitcoin-golombrice

`bitcoin-golombrice` is a Rust crate that implements Golomb-coded sets (GCS), utilizing the principles outlined in BIP-158. It caters to compact and probabilistic data structures designed to efficiently test for membership in a set through Golomb-Rice coding.

## Overview

This crate offers an efficient method for utilizing filters over large datasets, particularly in cryptographic settings involving Bitcoin. Our implementation respects the specifications of BIP-158, making it suitable for blockchain data structures that require scalable and compact storage systems with probabilistic set membership logic.

## Key Components

### Golomb-Rice Encoding and Decoding
- **Encoding**: The crate offers functions to encode data elements using Golomb-Rice encoding, efficient for scenarios with probabilistic data constraints, enabling scalable filter creation.
- **Decoding**: Complements the encoding ability, allowing data recovery under set constraints, maintaining concise dataset representation.

### GCSFilter
A Golomb-Coded Set Filter, crucial for applying encoded filtering based on element sets with potential false positives contingent on filter parameters.

- `GCSFilter::new_with_encoded_filter(...)`: Initializes a new GCSFilter instance from encoded filter data, implementing compact probabilistic logic.
- `GCSFilter::new_with_element_set(...)`: Allows constructing filters directly from element sets, hash-sorting, and applying Golomb-Rice encoding.

### GcsFilterParams
Defines the filter parameters to guide hash functions and mediate encoding processes.

- Supports adjustable parameters such as SipHash keys, M parameter, and other encoding multipliers.

## Integration & Usage

Add `bitcoin-golombrice` to your Cargo.toml to leverage Golomb-coded filtering:

```toml
[dependencies]
bitcoin-golombrice = "0.1.20"
```

## Example

```rust
use bitcoin_golombrice::{GCSFilter, GcsFilterParams, GcsFilterElementSet};

// Initialize filter parameters
let params = GcsFilterParams::new(Some(12345), Some(67890), Some(20), Some(1 << 20));

// Create an element set
let elements: GcsFilterElementSet = vec![vec![1, 2, 3], vec![4, 5, 6]].into_iter().collect();

// Build the filter
let filter = GCSFilter::new_with_element_set(&params, &elements);

// Test for membership
assert!(filter.match_(&vec![1, 2, 3]));
```

## Author & License

Developed by *klebs* under the MIT License. For contributions and issues, check out our [GitHub repository](https://github.com/klebs6/bitcoin-rs).

---

*This README was generated by an AI model and may not be 100% accurate; however, it should be pretty good.*